<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>MIME (imap.Imap.MIME)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../../index.html">imap</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">Imap.MIME</span></h1></header><h4>MIME message structure</h4><p>The following types describe the bodies of
<a href="http://en.wikipedia.org/wiki/MIME">MIME</a> emails. The IMAP server can
parse the MIME structure of the messages and return individual parts. This
saves the client from having to do that parsing itself. See
</p><ul><li><a href="http://tools.ietf.org/html/rfc2045">RFC 2045: Format of Internet Message Bodies</a></li><li><a href="http://tools.ietf.org/html/rfc2046">RFC 2046: Media Types</a></li></ul><p>
and related RFCs for details.</p><div class="spec type" id="type-fields"><a href="#type-fields" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>fields</code><code></code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-fields.fld_params" class="anchored"><td class="def field"><a href="#type-fields.fld_params" class="anchor"></a><code>fld_params : (string<span class="keyword"> * </span>string) list;</code></td></tr><tr id="type-fields.fld_id" class="anchored"><td class="def field"><a href="#type-fields.fld_id" class="anchor"></a><code>fld_id : string option;</code></td></tr><tr id="type-fields.fld_desc" class="anchored"><td class="def field"><a href="#type-fields.fld_desc" class="anchor"></a><code>fld_desc : string option;</code></td></tr><tr id="type-fields.fld_enc" class="anchored"><td class="def field"><a href="#type-fields.fld_enc" class="anchor"></a><code>fld_enc : string;</code></td></tr><tr id="type-fields.fld_octets" class="anchored"><td class="def field"><a href="#type-fields.fld_octets" class="anchor"></a><code>fld_octets : int;</code></td></tr></table><code>}</code><code></code></div><div class="doc"><p>Basic fields of a MIME body part. See
<a href="https://tools.ietf.org/html/rfc2045">RFC 2045</a> for more details.</p></div></div><div class="spec include"><div class="doc"></div><details open="open"><summary><span class="def"><code><span class="keyword">include </span><span class="keyword">sig</span> ... <span class="keyword">end</span></code></span></summary><div class="spec val" id="val-fields_of_sexp"><a href="#val-fields_of_sexp" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>fields_of_sexp : Sexplib.Sexp.t <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-fields">fields</a></code></div><div class="doc"></div></div><div class="spec val" id="val-sexp_of_fields"><a href="#val-sexp_of_fields" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>sexp_of_fields : <a href="index.html#type-fields">fields</a> <span class="keyword">&#8209;&gt;</span> Sexplib.Sexp.t</code></div><div class="doc"></div></div></details></div><div class="spec type" id="type-mime"><a href="#type-mime" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>mime</code><code></code><code><span class="keyword"> = </span></code><table class="variant"><tr id="type-mime.Text" class="anchored"><td class="def constructor"><a href="#type-mime.Text" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Text</span><span class="keyword"> of </span>string<span class="keyword"> * </span><a href="index.html#type-fields">fields</a><span class="keyword"> * </span>int</code></td></tr><tr id="type-mime.Message" class="anchored"><td class="def constructor"><a href="#type-mime.Message" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Message</span><span class="keyword"> of </span><a href="index.html#type-fields">fields</a><span class="keyword"> * </span><a href="../index.html#type-envelope">envelope</a><span class="keyword"> * </span><a href="index.html#type-mime">mime</a><span class="keyword"> * </span>int</code></td></tr><tr id="type-mime.Basic" class="anchored"><td class="def constructor"><a href="#type-mime.Basic" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Basic</span><span class="keyword"> of </span>string<span class="keyword"> * </span>string<span class="keyword"> * </span><a href="index.html#type-fields">fields</a></code></td></tr><tr id="type-mime.Multipart" class="anchored"><td class="def constructor"><a href="#type-mime.Multipart" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Multipart</span><span class="keyword"> of </span><a href="index.html#type-mime">mime</a> list<span class="keyword"> * </span>string</code></td></tr></table><code></code></div><div class="doc"><p>MIME content types</p><p>The message MIME content type can be retrieved using <a href="../index.html#val-fetch">fetch</a> with
<code class="code">`Body_structure</code>. Similarly, individual MIME parts can be retrieved using
<a href="../index.html#val-fetch">fetch</a> with an appropriate <code class="code">`Body_section</code> message attribute.</p><p>In IMAP, MIME media types are described as follows:</p><ul><li><code class="code">`Text (s, f, n)</code> corresponds to the MIME type <code class="code">&quot;TEXT/&quot; ^ s</code>. Common
examples of the subtype <code class="code">s</code> are <code class="code">&quot;HTML&quot;</code> and <code class="code">&quot;PLAIN&quot;</code>. <code class="code">f</code> contains
general part information (see <a href="index.html#type-fields">fields</a>), and <code class="code">n</code> is the number of text
lines of the part.</li></ul><ul><li><code class="code">`Message (f, e, m, n)</code> corresponds to the MIME type <code class="code">&quot;MESSAGE/RFC822&quot;</code>,
used to enclose a complete message within a message. <code class="code">f</code> contains general
part information (see <a href="index.html#type-fields">fields</a>), <code class="code">e</code> is the envelope information of the
encapsulated message, <code class="code">m</code> is the MIME structure of the encapsulated
message, and <code class="code">n</code> is the number of lines in the encapsulated message.</li></ul><ul><li><code class="code">`Basic (t, s, f)</code> corresponds to a (non-multipart) MIME type <code class="code">t ^ &quot;/&quot; ^
        s</code>. Common examples of the type <code class="code">t</code> are <code class="code">&quot;APPLICATION&quot;</code>, <code class="code">&quot;AUDIO&quot;</code>,
<code class="code">&quot;IMAGE&quot;</code>, <code class="code">&quot;MESSAGE&quot;</code>, <code class="code">&quot;VIDEO&quot;</code>. <code class="code">f</code> contains general part information
(see <a href="index.html#type-fields">fields</a>).</li></ul><ul><li><code class="code">`Multipart (p, s)</code> corresponds to the MIME type <code class="code">&quot;MULTIPART/&quot; ^ s</code>. <code class="code">p</code>
is the lists of MIME subparts.</li></ul></div></div><div class="spec include"><div class="doc"></div><details open="open"><summary><span class="def"><code><span class="keyword">include </span><span class="keyword">sig</span> ... <span class="keyword">end</span></code></span></summary><div class="spec val" id="val-mime_of_sexp"><a href="#val-mime_of_sexp" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>mime_of_sexp : Sexplib.Sexp.t <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-mime">mime</a></code></div><div class="doc"></div></div><div class="spec val" id="val-sexp_of_mime"><a href="#val-sexp_of_mime" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>sexp_of_mime : <a href="index.html#type-mime">mime</a> <span class="keyword">&#8209;&gt;</span> Sexplib.Sexp.t</code></div><div class="doc"></div></div></details></div></body></html>